<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="shortcut icon" type="image/png" href="favicon.ico">
<!--     <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-128973402-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-128973402-1");
  </script> -->
  <title>
  	District-Shortening Flow <!-- | Metric Geometry and Gerrymandering Group -->
  </title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
<!--     <meta
      name="description"
      content="A nonpartisan research organization studying applications of geometry and computing to U.S. redistricting."
      /> -->
<!--     <link rel="canonical" href="https://www.mggg.org/metagraph/" />
-->    <link
href="https://fonts.googleapis.com/css?family=Playfair+Display:700|Lora:400,400i,700|Source+Sans+Pro:300,400"
rel="stylesheet"
/>
<link rel="stylesheet" href="style.css" />
<link
rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css"
integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv"
crossorigin="anonymous"
/>
<script
defer
src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js"
integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O"
crossorigin="anonymous"
></script>
<script
defer
src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js"
integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF"
crossorigin="anonymous"
onload="renderMathInElement(document.body, {delimiters: [
	{left: '$', right: '$', display: false}
	]});"
	></script>
</head>

<body>
<!--     <div class="banner">
      <a href="/">
        <img
          class="logo"
          src="favicon"
          alt="Metric Geometry and Gerrymandering Group"
        />
      </a>
  </div> -->
  <header>

  	<img width="450" src="imgs/gerryconstruct.png?raw=true" alt="A 7-by-7 grid" >

  	<summary>
  		THIS PAGE IS UNDER CONSTRUCTION
  	</summary>




  	<h1>District-Shortening Flow</h1>
  	<p class="subtitle">
  		using differential geometry to analyze compactness
  	</p>
  	<!--       <img width="200" src="imgs/blankgrid.png?raw=true" alt="A 4-by-4 grid" /> -->
  	<summary>
  		This project uses interactive widgets and visualizations to explore the 
  		use of <em> curve-shortening flow </em> to analyze the geometric shape of 
  		electoral districts.
  	</summary>
  </header>

  <main>
  	<section>

  		<h3> A case for "multiscale compactness" </h3>
  		<p>
  			While the geometric shape of a district is not the measure by which 
  			gerrymandering is defined, it often drives the popular narrative around 
  			what districts are and are not gerrymandered.  A quick Google search for 
  			a term like "most gerrymandered districts" will return a litany of articles 
  			naming-and-shaming districts like the Illinois-4, the 
  			previous iteration of the North Carolina-12, and the 
  			Maryland-3.  While all three of these districts 
  			were (allegedly) drawn with some electoral intent, most of the press 
  			surrounding them is about their contorted shapes rather than their 
  			effect on the outcomes of elections.
  		</p>
  		<div class="chart three-columns" style="max-width:600px;background:none;border:none;margin:auto;padding:3px 3px 3px 3px;">

  			<div>
  				<svg height="150" width="150" id="il4svg">
  					<polygon id="il4" points="" style="fill:#999999;stroke:#000;stroke-width:2;fill-opacity:.3" />
  				</svg>
  				<br />
  				<svg height="35" width = "150">
  					<text font-size="24" text-anchor = "middle" x="75" y="18">IL-4</text>
  				</svg>
  			</div>
  			<div style="margin-left:20px;margin-right:20px">
  				<svg height="150" width="150" id = "nc12svg">
  					<polygon id = "nc12" points="" style="fill:#999999;stroke:#000;stroke-width:2;fill-opacity:.3" />

  				</svg>
  				<br />
  				<svg height="35" width = "150">
  					<text font-size="16" text-anchor = "middle" x="75" y="18">NC-12 (RIP 2016)</text>
  				</svg>
  			</div>
  			<div>
  				<svg height="150" width="150" id = "md03svg">
  					<polygon id = "md03draw"  points="" style="fill:#999999;stroke:#000;stroke-width:2;fill-opacity:.3" />

  				</svg>
  				<br />
  				<svg height="35" width = "150">
  					<text font-size="24" text-anchor = "middle" x="75" y="18">MD-3</text>
  				</svg>
  			</div>

  		</div>




  		<p>
  			One of the most popular measures of compactness is called the <em>Polsby-Popper score</em>. 
  			One formulation of this is as $ \frac{4\pi \mathrm{Area}}{\mathrm{Perimeter}^2}$, and it has 
  			several attractive mathematical properties.  It's always a number 
  			between zero and one, and it's one exactly when the shape we're looking at is a circle. 
  			This score also varies continuously as the boundary of the shape is pulled and stretched. 
  			Another nice property is that it is <em> scale-invariant </em>, meaning that blowing up a shape 
  			doesn't change it's Polsby-Popper score.  This means that it's appropriate to use this score to examine 
  			districts of different sizes.  
  		</p>
  		<p>
  			However, this score has some drawbacks which make its use in redistricting applications 
  			somewhat questionable.  First, it's very sensitive to small changes in the shape's boundary. 
  			A circle with a ragged boundary may have the same Polsby-Popper score as a very snaky shape.
  		</p>
  		<div class="chart two-columns" style="max-width:600px;background:none;border:none;margin:auto;padding:3px 3px 3px 3px;">
  			<div>
  				<svg width="200" height="200">
  					<path style="fill:none;stroke:#000000;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
  					d="m 15.501633,92.00427 c 1.445268,-1.762974 2.747824,-3.699888 3.474503,-5.879928 0.116159,-0.348477 0.195231,-0.708884 0.26727,-1.069078 0.01747,-0.08736 -0.03984,-0.187587 0,-0.267271 0.05635,-0.112689 0.20476,-0.157877 0.267269,-0.267269 0.296509,-0.51889 0.511573,-1.081191 0.801809,-1.603616 0.155997,-0.280797 0.415242,-0.503565 0.534539,-0.801809 0.06617,-0.165436 -0.07969,-0.375171 0,-0.53454 0.03984,-0.07968 0.17818,0 0.267269,0 0.816266,0 0.365503,-0.05635 1.336348,0.267271 0.267269,0.08909 0.534539,0.178179 0.801808,0.267269 0.26727,0.08909 0.520082,0.267269 0.801809,0.267269 0.281727,0 0.534539,-0.178178 0.801809,-0.267269 0.757044,-0.252349 0.704763,-0.267269 1.336347,-0.267269 0.17818,0 0.369105,-0.06618 0.534538,0 0.298244,0.119296 0.544836,0.341808 0.801809,0.534538 0.343107,0.257328 0.548177,0.801809 1.069078,0.801809 0.321218,0 0.544836,-0.341807 0.80181,-0.53454 0.456364,-0.34227 0.907036,-0.693431 1.336347,-1.069078 0.284456,-0.248899 0.53454,-0.534538 0.801809,-0.801807 0.08909,-0.08909 0.15458,-0.210926 0.267269,-0.267271 0.247057,-0.123529 0.678233,0.236376 0.801809,0.267271 0.17286,0.04321 0.365503,-0.05635 0.53454,0 0.42763,0.142542 0.09267,0.621837 0.801807,0.267269 0.730149,-0.365075 2.355598,-1.997728 2.672696,-2.405425 0.307113,-0.921337 0.06806,-0.602599 0.534538,-1.069078 0.08909,-0.08909 0.141279,-0.267271 0.267271,-0.267271 0.710901,0 -0.324141,0.856239 0.801807,0.53454 1.015029,-0.290007 3.011649,-2.28105 3.474506,-2.672697 0.225581,-0.190875 1.510545,-1.123164 1.870884,-1.603615 0.119528,-0.159369 0.126407,-0.393676 0.267272,-0.534541 0.01934,-0.01934 0.921885,0.02104 1.069078,0 0.449704,-0.06424 0.898083,-0.147743 1.336347,-0.267268 0.543599,-0.148254 1.074086,-0.341982 1.603618,-0.534541 1.742951,-0.633799 0.768313,-0.534538 2.138156,-0.534538 0.08909,0 0.18275,-0.02817 0.267269,0 1.069078,0.35636 0.08909,0.08909 0.801809,0.80181 0.063,0.06299 0.180838,-0.02162 0.267269,0 0.273315,0.06833 0.520081,0.267269 0.801809,0.267269 1.288545,0 0.921729,-0.497703 2.138156,-0.80181 0.345718,-0.08643 0.712719,0 1.069078,0 0.178179,0 0.35636,0 0.534538,0 0.08909,0 0.182753,-0.02817 0.267269,0 0.377978,0.125992 0.712719,0.35636 1.069078,0.534541 0.178181,0.08909 0.337645,0.297561 0.53454,0.267269 1.00397,-0.154456 1.957078,-0.545405 2.939966,-0.80181 1.066294,-0.278164 2.138156,-0.534537 3.207234,-0.801809 0.708112,-0.177027 2.018088,-0.688184 2.939965,-0.534538 0.277892,0.04632 0.602597,0.06806 0.801807,0.267269 0.125992,0.125992 0,0.35636 0,0.534541 0,0.404439 -0.07413,0.881438 0.801809,0.801806 0.758057,-0.06891 1.442577,-0.492662 2.138156,-0.801806 0.910206,-0.404538 1.781797,-0.8909 2.672696,-1.33635 0.534538,-0.267269 1.036654,-0.61282 1.603616,-0.801806 0.253556,-0.08452 0.53454,0 0.801809,0 0.35636,0 0.715471,-0.0442 1.069078,0 0.450763,0.05635 0.885585,0.210923 1.336347,0.267268 0.400796,0.0501 2.899159,0.0024 2.939966,0 2.767417,-0.16279 3.793288,-0.407929 6.681737,-0.801809 0.265554,-0.03621 2.524402,-0.403836 3.207236,-0.267269 0.123545,0.02471 0.154578,0.210924 0.267269,0.267269 0.07968,0.03984 0.178179,0 0.267269,0 0.267269,0 0.544822,-0.07342 0.801809,0 0.383093,0.109456 0.702871,0.377592 1.069078,0.534541 0.258948,0.110976 0.581817,0.09128 0.80181,0.267268 0.673724,0.53898 1.300284,3.038946 1.336347,3.207235 0.09333,0.435562 0,0.890897 0,1.336346 0,0.178181 -0.07968,0.375172 0,0.534541 0.03984,0.07968 0.179392,-0.01466 0.267268,0 0.448091,0.07468 0.884333,0.222067 1.336347,0.267269 0.443241,0.04432 0.898086,-0.07968 1.33635,0 0.869333,0.158059 1.938304,0.468847 2.405424,1.336347 0.45491,0.844835 0.73217,1.774264 1.06908,2.672696 0.19784,0.527576 0.35636,1.069078 0.53454,1.603616 0.0891,0.267271 0.0982,0.576429 0.26727,0.801809 0.11952,0.159369 0.34127,0.315584 0.53454,0.267269 2.25859,-0.564647 3.86029,-1.829163 5.87993,-2.939963 0.6982,-0.384016 1.38928,-0.796763 2.13815,-1.069078 0.25118,-0.09134 0.59311,-0.166963 0.80181,0 0.81343,0.650745 0.53454,2.198526 0.53454,2.939963 0,0.356359 -0.11269,0.731006 0,1.069078 0.26217,0.786524 1.0241,0.53454 1.60362,0.53454 0.17818,0 0.35636,0 0.53454,0 0.17818,0 0.3655,-0.05635 0.53454,0 0.11952,0.03984 0.17817,0.178178 0.26726,0.267269 0.17818,0.178181 0.39477,0.324877 0.53454,0.53454 0.28865,0.43297 -0.87941,0.448321 0.53454,0.801807 1.48367,0.370919 2.35784,-0.340498 3.74178,-0.801807 0.6153,-0.205102 1.23276,-0.418518 1.87088,-0.53454 0.35061,-0.06375 0.71964,-0.06989 1.06908,0 0.12355,0.02471 0.17818,0.178181 0.26727,0.267269 0.17818,0.178181 0.33295,0.383349 0.53454,0.53454 0.15937,0.119526 0.36372,0.164777 0.53454,0.267269 0.27544,0.165267 0.49191,0.450022 0.80181,0.53454 1.00989,0.275426 3.24119,0.346893 4.27631,0.267269 0.5676,-0.04366 1.48856,-0.429667 2.13815,-0.267269 0.15997,0.03999 0.83615,0.952611 1.06908,1.069078 0.0797,0.03984 0.17818,0 0.26727,0 0.35636,0 0.71272,0 1.06908,0 0.77925,0 1.58185,-0.207208 2.13816,0.534538 0.24769,0.330258 -0.3475,1.090443 0.26727,1.336347 1.03149,0.412597 1.00535,-0.381881 1.87088,0.267272 1.38624,1.039677 0.18342,1.978316 0.53454,3.207234 0.67101,2.348515 0.18918,0.393387 0.80181,0.801809 0.20966,0.139774 0.39476,0.324874 0.53454,0.534538 0.0494,0.07413 -0.0494,0.193143 0,0.267268 0.31643,0.474647 0.81396,0.82612 1.06908,1.33635 0.29005,0.58011 0.41851,1.232762 0.53454,1.870885 0.0637,0.350612 0,0.712718 0,1.069078 0,0.178181 -0.0797,0.375171 0,0.53454 0.0398,0.07968 0.17818,0 0.26727,0 0.26727,0 0.55365,-0.09926 0.80181,0 0.23396,0.09358 0.40951,0.315756 0.53454,0.534538 0.23803,0.416552 0.44044,0.865902 0.53453,1.336349 0.12231,0.611518 0,1.247257 0,1.87088 0,0.0891 -0.0216,0.18084 0,0.26728 0.6751,2.70038 -0.0965,-0.19302 0.53454,1.06907 0.0384,0.0768 0,1.71237 0,1.87089 0,0.0891 -0.0494,0.19314 0,0.26727 0.13978,0.20966 0.30916,0.42185 0.53454,0.53454 0.15937,0.0797 0.35636,0 0.53454,0 0.26727,0 0.53973,-0.0524 0.80181,0 0.33663,0.0673 0.9291,0.52186 1.06908,0.80181 0.11066,0.22133 -0.11067,1.64956 0,1.87088 0.0797,0.15937 0.37517,-0.0797 0.53454,0 0.11269,0.0563 0.19738,0.16244 0.26727,0.26727 1.06755,1.60134 1.74226,3.40334 2.67269,5.07812 0.156,0.2808 0.40801,0.50657 0.53454,0.80181 0.1447,0.33763 0.17062,0.7147 0.26727,1.06908 0.17065,0.62573 0.49645,1.22342 0.53454,1.87089 0.0622,1.05744 -0.41657,3.36388 -0.53454,4.54358 -0.0266,0.26594 0,0.53454 0,0.80181 0,0.53454 0,1.06908 0,1.60362 0,0.17818 0,0.35635 0,0.53454 0,0.0891 0.0216,0.18083 0,0.26726 -0.0683,0.27332 -0.21202,0.52556 -0.26727,0.80181 -0.0312,0.15587 0.0522,1.52528 0,1.60362 -0.13977,0.20966 -0.37322,0.34096 -0.53454,0.53454 -0.51979,0.62375 -0.73189,1.12005 -1.33635,1.60362 -0.25083,0.20066 -0.5145,0.39088 -0.8018,0.53454 -0.0797,0.0398 -0.20428,-0.063 -0.26727,0 -0.063,0.063 0,0.17817 0,0.26726 0,0.35636 0.0323,0.71419 0,1.06908 -0.057,0.62737 -0.26727,1.24093 -0.26727,1.87089 0,0.54191 0.19063,1.06715 0.26727,1.60362 0.33357,2.33499 0.26727,1.66813 0.26727,3.74177 0,0.44545 0,0.8909 0,1.33635 0,0.17818 0.0662,0.3691 0,0.53454 -0.41992,1.04978 -0.77918,0.77917 -1.60362,1.60361 -0.14086,0.14087 -0.14775,0.37517 -0.26727,0.53454 -0.57902,0.77203 -0.79697,0.3791 -1.06908,1.60362 -0.24895,1.12025 0.0973,1.3853 0.26727,2.40542 0.0586,0.35152 0,0.71272 0,1.06908 0,0.0891 0,0.17818 0,0.26727 0,0.0891 0.0398,0.18759 0,0.26727 -0.0563,0.11269 -0.17818,0.17818 -0.26727,0.26727 -0.17818,0.17818 -0.38335,0.33295 -0.53454,0.53454 -0.11953,0.15937 -0.17818,0.35636 -0.26727,0.53454 -0.0891,0.17818 -0.20427,0.34555 -0.26727,0.53454 -0.0282,0.0845 0.063,0.20427 0,0.26727 -0.14086,0.14086 -0.37517,0.14774 -0.53454,0.26727 -0.20158,0.15119 -0.31575,0.40952 -0.53454,0.53454 -3.96767,2.26724 2.23434,-2.06635 -3.4745,1.60361 -0.5853,0.37627 -1.06028,0.90168 -1.60362,1.33635 -0.45119,0.36096 -1.21766,0.82174 -1.60361,1.33635 -0.11953,0.15937 -0.15677,0.36878 -0.26727,0.53454 -0.40773,0.61159 -0.21157,-0.16712 -0.53454,0.80181 -0.0282,0.0845 0.063,0.20427 0,0.26727 -0.6751,0.67509 -0.30811,0.1027 -0.80181,0.26727 -1.0592,0.35306 -2.28631,0.89039 -2.93997,1.87088 -0.3315,0.49726 -0.66742,1.02129 -0.80181,1.60362 -0.14022,0.60766 0,1.24726 0,1.87089 0,0.71272 0,1.42544 0,2.13815 0,0.26727 0,0.53454 0,0.80181 0,0.0891 0.0891,0.26727 0,0.26727 -0.0891,0 0,-0.35636 0,-0.26727 0,0.0596 0.0412,1.30887 0,1.33635 -0.22238,0.14825 -0.53453,0 -0.8018,0 -0.8909,0 -1.7818,0 -2.6727,0 -0.0891,0 -0.20427,-0.063 -0.26727,0 -0.063,0.063 0.063,0.20427 0,0.26727 -0.41171,0.41171 -0.30417,-0.64525 0,0.26727 0.0479,0.14368 0,0.84279 0,1.06908 0,0.0891 0.0535,0.19599 0,0.26727 -0.22678,0.30238 -0.48731,0.59214 -0.80181,0.8018 -1.7208,1.14721 -0.15962,-0.56237 -1.06907,0.80181 -0.0699,0.10484 -0.26727,0.14128 -0.26727,0.26727 0,1.95653 0.31927,1.78746 1.06907,3.47451 0.11442,0.25744 0.17818,0.53454 0.26727,0.8018 0.17818,0.26728 0.39089,0.51451 0.53454,0.80181 0.0398,0.0797 0.0864,0.24567 0,0.26727 -0.34572,0.0864 -0.71547,0.0442 -1.06907,0 -0.65559,-0.0819 -1.52805,-0.61011 -2.13816,0 -0.063,0.063 0,0.17818 0,0.26727 0,0.44545 -0.0443,0.89311 0,1.33635 0.0452,0.45202 0.13673,0.90123 0.26727,1.33635 0.13786,0.45953 0.44045,0.8659 0.53454,1.33635 0.1524,0.762 0.0629,1.80798 -0.53454,2.40542 -1.4766,1.4766 -2.07842,1.42536 -4.00905,1.87089 -0.44263,0.10214 -0.88558,0.21092 -1.33634,0.26727 -0.23745,0.0297 -1.13189,-0.14165 -1.33635,0.26727 -0.11953,0.23905 0,0.53454 0,0.80181 0,0.82865 0.15884,1.17751 -0.53454,1.87088 -0.53378,0.53378 -1.50011,0.81386 -2.13816,1.06908 -0.44545,0.17818 -0.88713,0.36608 -1.33634,0.53454 -0.55726,0.20897 -1.60321,0.39987 -1.87089,1.06908 -0.0993,0.24815 0,0.53454 0,0.80181 0,0.44545 0,0.89089 0,1.33634 0,0.0891 0.0797,0.22743 0,0.26727 -0.16798,0.084 -0.90109,-0.084 -1.06908,0 -0.2873,0.14366 -0.54483,0.34181 -0.80181,0.53454 -0.10079,0.0756 -0.14372,0.24256 -0.26727,0.26727 -0.34944,0.0699 -0.71394,-0.0296 -1.06907,0 -0.71579,0.0597 -1.4199,0.26727 -2.13816,0.26727 -0.80674,0 -1.60047,-0.2136 -2.40542,-0.26727 -0.53336,-0.0356 -1.06908,0 -1.60362,0 -0.35636,0 -0.71757,-0.0586 -1.06908,0 -0.1965,0.0327 -0.34555,0.20428 -0.53454,0.26727 -0.54321,0.18107 -0.20104,-0.60077 -1.06908,0.26727 -0.12599,0.12599 0.0797,0.37517 0,0.53454 -0.14598,0.29195 -1.109736,0.99354 -1.336346,1.06908 -1.218888,0.40629 -2.514873,0.30672 -3.741772,0 -0.417502,-0.10438 -1.330018,-0.80181 -1.870888,-0.80181 -1.351846,0 -1.736695,0.93489 -2.672696,1.87089 -0.445447,0.44545 -0.94959,0.83908 -1.336347,1.33634 -0.02328,0.0299 -0.432305,1.1516 -0.801809,1.33635 -0.377632,0.18882 -1.251874,-0.71733 -1.336347,-0.80181 -0.140864,-0.14086 -0.126407,-0.39367 -0.267269,-0.53454 -0.260395,-0.26039 -1.452589,-0.53454 -1.603618,-0.53454 -0.367327,0 -0.720601,0.15112 -1.069078,0.26727 -0.593932,0.19798 -0.576366,0.5206 -1.336347,0.26727 -0.663581,-0.22119 -1.107393,-0.92282 -1.603619,-1.33634 -0.246766,-0.20564 -0.550979,-0.33388 -0.801806,-0.53454 -0.196768,-0.15742 -0.324877,-0.39477 -0.534541,-0.53454 -0.571386,-0.38093 -2.107662,-0.98215 -2.672693,-1.06908 -0.616379,-0.0948 -1.249413,0.0518 -1.870888,0 -0.257505,-0.0215 -1.745787,-0.31033 -2.138156,-0.53454 -0.5915,-0.338 -1.415915,-1.07282 -1.870887,-1.60362 -1.754807,-2.04727 -0.238662,-0.50593 -1.069078,-1.33634 -0.08909,-0.0891 -0.145039,-0.23672 -0.267269,-0.26727 -0.259291,-0.0648 -0.53454,0 -0.801809,0 -0.356359,0 -0.712719,0 -1.069078,0 -0.935514,0 -1.345118,0.15937 -2.138156,-0.53454 -1.153031,-1.0089 -1.551363,-2.37259 -2.138156,-3.74177 -0.188989,-0.44098 -0.366083,-0.88714 -0.534541,-1.33635 -0.09892,-0.26379 -0.110995,-0.5674 -0.267268,-0.80181 -0.04942,-0.0741 -0.179393,0.0146 -0.267269,0 -0.448091,-0.0747 -0.885585,-0.21093 -1.336347,-0.26727 -0.481431,-0.0602 -1.425491,0.26704 -1.603619,-0.53454 -0.135284,-0.60878 0,-1.24726 0,-1.87089 0,-0.44545 0,-0.89089 0,-1.33634 0,-0.26727 0.08452,-0.54826 0,-0.80181 -0.01476,-0.0443 -2.042353,0.0639 -2.138156,0 -0.148254,-0.0988 0.04895,-0.36322 0,-0.53454 -0.131802,-0.46131 -0.430464,-0.86801 -0.53454,-1.33635 -0.953307,-0.69248 0.373549,-1.07223 0.267271,-1.60362 0.296932,-0.72354 -0.660945,-0.64648 -0.801809,-1.06907 -0.05635,-0.16904 0.07969,-0.37518 0,-0.53454 -0.112691,-0.22538 -0.356359,-0.35636 -0.53454,-0.53454 -0.328451,-0.32846 -0.585536,-0.62048 -1.069078,-0.80181 -1.54699,-0.58012 -0.912339,-0.11405 -2.138156,-0.26727 -0.450763,-0.0563 -0.905389,-0.12362 -1.336347,-0.26727 -0.622943,-0.20765 -0.08026,-1.7018 -0.267269,-2.13816 -0.148892,-0.34741 -0.463738,-0.63277 -0.801809,-0.8018 -0.239054,-0.11953 -0.534538,0 -0.801809,0 -1.069078,0 -2.138156,0 -3.207235,0 -0.356359,0 -0.731004,0.11268 -1.069078,0 -0.239053,-0.0797 -0.412165,-0.31427 -0.534537,-0.53455 -0.329504,-0.5931 -0.549826,-1.24092 -0.801809,-1.87088 -0.282697,-0.70674 -0.577956,-1.41063 -0.80181,-2.13816 -0.450498,-1.46412 0.02806,-1.16062 -0.801809,-2.40542 -0.139774,-0.20967 -0.292248,-0.46532 -0.534538,-0.53454 -0.42831,-0.12238 -0.890899,0 -1.336346,0 -0.35636,0 -0.712719,0 -1.069079,0 -0.267271,0 -0.562755,0.11952 -0.801809,0 -1.582526,-0.79127 -1.336347,-3.38696 -1.336347,-4.81085 0,-0.44545 0,-0.8909 0,-1.33635 0,-0.17818 0.06617,-0.3691 0,-0.53454 -0.380026,-0.95006 -0.353856,-0.80181 -1.069078,-0.80181 -0.08909,0 -0.204274,0.063 -0.267271,0 -0.063,-0.063 0,-0.17818 0,-0.26727 0,-0.53454 0.09562,-1.0777 0,-1.60361 -0.08582,-0.47203 -0.430464,-0.86802 -0.534538,-1.33635 -0.07731,-0.34788 0,-0.71272 0,-1.06908 0,-0.0891 0.063,-0.20427 0,-0.26727 -0.063,-0.063 -0.178181,0 -0.267269,0 -0.267271,-0.35636 -0.714449,-0.63228 -0.801809,-1.06908 -0.192191,-0.96096 0,-1.95998 0,-2.93996 0,-0.80181 0,-1.60362 0,-2.40543 0,-0.35636 0,-0.71272 0,-1.06908 0,-0.17818 0.07968,-0.37517 0,-0.53454 -0.03984,-0.0797 -0.18084,0.0216 -0.267269,0 -0.273317,-0.0683 -0.522914,-0.22742 -0.801809,-0.26727 -0.440973,-0.063 -0.8909,0 -1.336347,0 -0.178181,0 -0.391996,0.10691 -0.53454,0 -0.256974,-0.19273 -0.378542,-0.52101 -0.534538,-0.80181 -0.290237,-0.52242 -0.559088,-1.05749 -0.801809,-1.60361 -0.560472,-1.26106 0.107489,-0.39122 -0.801809,-1.60362 -0.07559,-0.10079 -0.147744,-0.22743 -0.267269,-0.26727 -0.169037,-0.0563 -0.35636,0 -0.534541,0 -0.356359,0 -0.712718,0 -1.069078,0 -0.838967,0 -0.920824,0.14826 -1.603616,-0.53454 -0.436132,-0.43613 -0.959699,-1.64595 -1.069078,-2.13816 -0.0773,-0.34787 0,-0.71271 0,-1.06907 0,-0.17818 0.05635,-0.3655 0,-0.53454 -0.03984,-0.11953 -0.154579,-0.21092 -0.26727,-0.26727 -0.07968,-0.0398 -0.178179,0 -0.267269,0 -0.26727,0 -0.534539,0 -0.801809,0 -0.68009,0 -0.75239,0.14825 -1.069078,-0.80181 -0.130687,-0.39206 0.13614,-2.06507 0,-2.40542 -0.518981,-1.29746 -1.840003,0.30349 -2.138156,-1.33635 -0.127495,-0.70123 0,-1.42544 0,-2.13816 0,-0.80181 0,-1.60362 0,-2.40542 0,-0.53454 0,-1.06908 0,-1.60362 0,-0.26727 0.08452,-0.54826 0,-0.80181 -0.101578,-0.30473 -0.307404,-0.57467 -0.534539,-0.80181 -0.154914,-0.15491 -0.934801,0.26984 -1.069078,-0.26727 -0.06482,-0.25929 0,-0.53454 0,-0.80181 0,-1.24726 0,-2.49451 0,-3.74177 0,-0.44545 0.122374,-0.90804 0,-1.33635 -0.250868,-0.87803 -0.405121,-0.43536 -0.801809,-0.53454 -0.273315,-0.0683 -0.528493,-0.19894 -0.801808,-0.26727 -0.08643,-0.0216 -0.17818,0 -0.26727,0 -0.821942,0 -1.435272,0.21463 -1.870887,-0.8018 -0.140377,-0.32755 0,-0.71272 0,-1.06908 0,-0.35636 0,-0.71272 0,-1.06908 0,-0.26727 0.09926,-0.55366 0,-0.80181 -0.709983,-1.77496 -0.394509,0.56012 -0.801808,-1.06908 -0.04322,-0.17286 0,-0.35636 0,-0.53454 0,-0.62363 -0.04783,-1.24909 0,-1.87088 0.202357,-2.63065 0.734567,-7.281261 1.336348,-9.888976 0.08508,-0.368705 1.086417,-2.086137 0.801808,-2.939966 -0.02817,-0.08452 -0.204274,0.063 -0.267269,0 -0.063,-0.06299 0.03984,-0.187584 0,-0.267268 -0.143654,-0.287306 -0.464858,-0.488241 -0.534539,-0.80181 -0.115958,-0.521808 0,-1.069078 0,-1.603615 0,-0.263451 0,-0.797992 0,-0.534541 0,0.712719 0,1.425438 0,2.138156 z"
  					id="path10"
  					inkscape:connector-curvature="0" transform="translate(0,-50)"/>

  				</svg>
  				<br />
  				<svg height="35" width="200">
  					<text font-size="22" text-anchor="middle" x="90" y="17">PP=.25</text>
  				</svg>
  			</div>
  			<div>
  				<svg width="200" height="200">

  					<path
  					style="fill:none;stroke:#000000;stroke-width:3px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
  					d="m 32.339613,68.751822 c -8.018086,55.592058 36.883194,65.481028 36.883194,65.481028 0,0 23.519717,-1.60361 -0.53454,32.33962 -24.054255,33.94323 27.796032,34.2105 27.796032,34.2105 0,0 106.373271,-22.45064 39.288621,-60.67018 -67.084653,-38.21955 -10.15624,20.31248 -10.15624,20.31248 0,0 31.00326,34.47777 -9.35444,12.2944 C 75.904544,150.5363 96.21703,95.746045 96.21703,95.746045 c 0,0 23.25245,-61.20472 -22.18337,0 -45.435822,61.204725 -5.879931,-59.333836 -5.879931,-59.333836 0,0 7.216277,-40.6249667 -29.934188,4.810853 -37.1504629,45.435818 -5.879928,27.52876 -5.879928,27.52876 z"
  					id="path79"
  					inkscape:connector-curvature="0" transform="translate(20,-10) scale(.8,.8)"/>
  				</svg>
  				<br />
  				<svg height="35" width="200">
  					<text text-anchor="middle" x="100" y="17" font-size="22">PP=.25</text>
  				</svg>
  			</div>
  		</div>
  		<p>
  			This is a problem because many boundaries in political geography, such as city lines as 
  			well as coastlines and rivers are natural choices to use as district borders, but they tend to 
  			be jagged, which distorts the Polsby-Popper score.  This also means that the score is sensitive 
  			to the <em> resolution of measurement </em>.  As maps become more detailed, things like coastlines 
  			look more and more rough, and so the same district's Polsby-Popper score may vary by a factor of 
  			as much as three depending on how precise the geographic measurements are. Richard Barnes and Justin Solomon explore this in more detail 
  			<a href="https://arxiv.org/abs/1803.02857"> in their paper, here</a>.
  		</p>
  		<p>
  			One way to avoid some of these issues is to try to keep more information about the shape 
  			of the district in our compactness score.  In this way, we can try to disentangle 
  			the instability from the boundary effects from the larger-scale geometric features of the shape.  
  			The Polsby-Popper score (and others) assign a single 
  			number to each district, but we can use some more sophisticated math to develop methods which 
  			assign a <em> vector </em> of numbers to each district.  While we're thinking about more 
  			robust measures of compactness, it would be a good idea to write down a few reasonable properties
  			we'd like our measures to satisfy:


  			<ul>
  				<li>
  					<h4>Discriminative</h4> There should be a meaningful way of <em> ordering </em> districts based on the entries of the vector. 
  					For example, if we sort all of our districts by the first entry, the resulting order should say something 
  					about the relative compactness of the districts.
  				</li>
  				<li>
  					<h4>Explainable</h4> The measure should be easy to communicate to the parties invested in the redistricting process, 
  					including lawyers, politicians, interested citizens, as well as mathematicians.
  				</li>
  				<li>
  					<h4>Stable</h4> Two similar shapes should be assigned similar vectors.
  				</li>				
  				<li>
  					<h4>Computable</h4> There should be an efficient algorithm for computing these scores, ideally from 
  					data available to the public.
  				</li>
  			</ul>
  			We'll use a small twist on a technique from differential geometry called <em>curve-shortening flow</em> to develop a 
  			multiscale compactness measure which satisfies these criteria.
  		</p>


  	</section>
  	<section>
  		<h3> Curve-Shortening Flow </h3>

  		<p>
  			What is curve-shortening flow? For those who care about such things, we'll restrict our attention to simple, closed 
  			curves in the plane.  Given such a curve, curve-shortening flow is a process which shrinks the region so that its 
  			<em> area </em> decreases at a constant rate and its <em> length </em> (<em>perimeter</em>) decreases as quickly as possible.  
  			This process will transform the boundary of any kind of region we might think of to a "round point" (the limit of a circle as 
  			you take its radius to zero).  We can intuitively think of curve-shortening flow as slowly "ironing out" the boundary of our region,
  			where it eliminates small wrinkles very quickly and takes a little bit longer to adjust large deformities.  Our small twist 
  			is that we also rescale the region at every step so that the area remains fixed.  Therefore, this process will slowly transform any shape 
  			into a circle of the same area.
  		</p>
  		<p>
  			Here's a brief animation of this transformation applied to MD-3, played forwards (district to circle) and backwards (circle to district).
  		</p>


  		<div class="chart center" style="max-width:250px;max-height:250px;background:none;border:none;display:block;margin:auto ;padding:3px 3px 3px 3px;">

  			<div>
  				<svg height="200" width="200" id='animbox'>
  					<polygon id="animflow" points="" style="fill:#1199ee;stroke:#000;stroke-width:2;fill-opacity:.3" />

  				</svg>

  			</div>


  		</div>



  		<p>
  			The procedure to perform curve-shortening flow is pretty straightforward. At each point on the boundary of our region, 
  			we'll find the tangent line and move that point inward in the direction perpendicular to the tangent. How far to move it 
  			will depend on the <em> curvature </em> of the boundary at the point.  The last missing piece is to articulate a definition 
  			of curvature.  Intuitively, curvature measures how "bendy" the boundary is at a particular point.  If our point lies in a very 
  			squiggly portion of the boundary, then the curvature is large. If our point is in a portion that looks like a straight line, 
  			then the curvature is small.  
  		</p>

  		<p>
  			Formally, we measure curvature in the following way. First, we can look at the neighborhood of our point on the boundary 
  			and imagine that it's a small segment on the circumference of a circle with some radius $r$, called the <em>osculating circle</em>.
  			Then, the curvature at that point is $1/r$ if it's a point of <em>positive curvature</em> or $-1/r$ if it's a point of 
  			<em>negative curvature</em>.  If we're looking at a point on a line segment, then we say that the curvature is zero.
  			

  			<svg width="325" height="325" style="display:block;margin:auto">
  				<marker id="arrow10-8-right" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" refX="-3" refY="0" viewBox="-15 -5 20 20"><path d="M -15 -5 L 0 0 L -15 5 z" fill="black"></path></marker>
  				<marker id="arrow15-12-right" markerHeight="12" markerUnits="strokeWidth" markerWidth="15" orient="auto" refX="-3" refY="0" viewBox="-15 -5 20 20"><path d="M -15 -5 L 0 0 L -15 5 z" fill="black" ></path></marker>
  				<marker id="arrow10-8-left" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" refX="3" refY="0" viewBox="0 -5 20 20"><path d="M 15 -5 L 0 0 L 15 5 z" fill="black"></path></marker>
  				<path d="M212,159c-27.888475542099997,13.992692090399999,-69.68871306930001,68.4430015008,-76,99s89.61905540859999,170.43824234020002,146,172s204.0812088449,-164.5476653,150,-193s-144.7883684341,86.7144426754,-166,49s94.67112781549997,-103.9538692097,70,-132s-96.4359509484,-9.240284403099992,-124,5Z" style="stroke: black; stroke-width: 2px;fill:#ddd;" id="e2_areaS3" transform="translate(-135,-135)"></path>
  				<circle id="e3_circle" cx="280" cy="277" style="fill:#2272e0;fill-opacity:.3;stroke:black;stroke-width:1px;" r="17.2429" transform="translate(-135,-135)"></circle>
  				<line id="e4_line" x1="266.539" y1="287.937" x2="302.539" y2="257.812" style="stroke:black;fill:none;stroke-width:3px;marker-end:url(#arrow10-8-right);" transform="translate(-135,-135)"></line>
  				<line id="e5_line" x1="258.164" y1="278.437" x2="274.914" y2="298.687" style="stroke:black;fill:none;stroke-width:1px;" transform="translate(-135,-135)"></line>	
  				<circle id="e6_circle" cx="282.414" cy="388.812" style="fill:khaki;stroke:black;stroke-width:1px;" r="40.9228" transform="translate(-135,-135)"></circle>
  				<line id="e7_line" x1="282.414" y1="406.562" x2="282.414" y2="429.562" style="stroke: black; fill: none; stroke-width: 3px;marker-start:url(#arrow10-8-left);" transform="translate(-135,-135)"></line>
  				<line id="e8_line" x1="315.719" y1="430.594" x2="246.719" y2="430.219" style="stroke:black;fill:none;stroke-width:1px;" transform="translate(-135,-135)"></line>
  			</svg>
  			In this small illustration, a step of curve-shortening flow will move the point with the small blue circle outward and the point with the large yellow circle inward, i the directions of the arrows.
  			Since the blue circle is smaller than the yellow circle, the first point will be moved <em>further</em> than the second.
  		</p>
  		<p>
  			We can make two observations about the behavior of curve-shortening flow on a shape.  First, since points on really 
  			curvy portions of the boundary are moved further, it should smooth out the boundary very quickly.  Second, since indentations 
  			in the shape are pushed outward and appendages sticking out get pulled inward, the shape will get progressively "nicer" as we 
  			run the process; it should never grow a new appendage or suddenly develop a jagged boundary. 
  		</p>




  	</section>



  	<section>

  		<h3> Algorithmics </h3>
  		<p>
  			The next concern is whether we can actually run curve-shortening flow on a real shape, or if 
  			it just exists as a theoretical construct.  The procedure we described above applies to smooth 
  			curves and technically requires we compute the curvature at every one of an infinite number of points, 
  			which is no-good if we're concerned with developing something practical.  Furthermore, we conveniently 
  			ignored how the procedure operates at points on the boundary which are not smooth, such as vertices of a 
  			polygon.  Since the boundaries of districts are described as polygons in geographic shapefiles, 
  			this behavior is more than simply a technicality.
  		</p>
  		<p>
  			To solve this, we need both a sensible replacement for the tangent line at a point as well as a good 
  			way to define curvature for things that aren't, well, <em>curved</em>.  Recall from 
  			differential calculus that the tangent line at a point is the limit of secant lines through pairs of points, 
  			one on each side of our point, as these two points move closer to our point.  So, instead of using a tangent line, 
  			we can use the line passing through two points very close to our point.
  		</p>
  		<p>
  			For curvature, we're going to do something similar.  If we're close enough to our point, these secant lines are 
  			chords of the osculating circle which meet the radius perpendicularly.  Since we can measure both the length of this 
  			chord, which is the distance between our two nearby points, as well as the distance of our point from the chord, we can 
  			recover the radius of the osculating circle. It turns out (somewhat sensibly) that the radius of this circle is larger the 
  			wider the angle formed by our three points.
  			All of this sounds a little complicated, but once we go through this construction, we can convince ourselves of the fact that 
  			these substitutions mean that we move each vertex along the line which bisects its angle at a distance proportional to $\pi$ minus 
  			the measure of that angle.
  		</p>
  	</section>

  	<section>
  		<h3> Turning Curve-Shortening Flow into a Compactness Measure </h3>
  		<p>
  			We've given an explanation of curve-shortening flow and described how one might be able to implement an 
  			algorithm to compute it, we can move on to designing a <em> compactness score </em> which can be derived 
  			from it.  First, since we're playing around with things that depend on distances, we're going to assume that 
  			all of the regions we might want to examine have the same area.  In our version of curve-shortening flow, 
  			we keep the area of the region fixed and the perimeter decreases monotonically until the region becomes 
  			a circle, we might conjecture that regions which are more compact become circles more quickly than non-compact ones.  
  			Let's fix our area to be $\frac{1}{4\pi}$, which seems an odd choice, except that it makes the circle we get at the 
  			end of the process have circumference equal to one.
  		</p>
  		<p>
  			Our measure will be the plot of "number of curve-shortening flow steps" against the "perimeter of the figure at each step". 
  			We'll take a second to argue that this satisfies all four of our desiderata.  This page serves as explanation and in the 
  			previous section, we described a method to compute the curve-shortening flow procedure, which covers the first two items.  
  			The measure is stable since any small perturbation in a shape will be quickly smoothed out by the curve-shortening flow procedure, 
  			meaning that we get almost identical plots for two very similar shapes.  The final criterion is that the measure be discriminative, 
  			and we can at the very least argue semi-formally that it's <em>at least </em> as discriminative as the Polsby-Popper score, since this 
  			plot lets us recover the Polsby-Popper score.  Since we've normalized the area of these shapes very particularly, the Polsby-Popper score 
  			of a region is exactly $1/\mathrm{Perimeter}$ after we've run zero steps of curve-shortening flow.  We'll see below that we can glean 
  			much more information that just the Polsby-Popper score from these plots, but since it's at least as good as a standard measure, 
  			we can be satisfied that our plots are not meaningless.

  		</p>
  	</section>

  	<section>
  		<h3>Comparing Plots</h3>
  		<p>
  			To demonstrate this measure, we'll compare the plots of three districts.  Below are images of the three districts as well as animations showing 
  			the progress of the curve-shortening flow procedure.  The plots on the right have the number of steps on the horizontal axis and the perimeter 
  			of the figure at that step on the vertical axis.  From left to right, these are "worst offenders" MD-3 and TX-35, 
  			as well as OK-1.  

  		</p>

  	</section>

  	<div class="chart three-columns center">

  		<div>
  		</div>
  		<div style="margin:15px">

  			<svg width="200" height="450" id = demoflowcomp1>
  				<g>
  					<text y="50" x="100" text-anchor="middle" font-size="24" >MD-3</text>
  					<polygon id="demodflowc1" transform="translate(0,50)" points="" style="fill:#9911ee;stroke:#000;stroke-width:2;fill-opacity:.3" />
  					<polygon id="demodshowc1" transform="translate(0,250)" points="" style="fill:#9911ee;stroke:#000;stroke-width:2;fill-opacity:.3" />
  				</g>
  			</svg>

  			<svg width="200" height="450" id = demoflowcomp2>
  				<g>
  					<text y="50" x="100" text-anchor="middle" font-size="24" >TX-35</text>
  					<polygon id="demodflowc2" transform="translate(0,50)" points="" style="fill:#99ee11;stroke:#000;stroke-width:2;fill-opacity:.3" />
  					<polygon id="demodshowc2" transform="translate(0,250)" points="" style="fill:#99ee11;stroke:#000;stroke-width:2;fill-opacity:.3" />
  				</g>
  			</svg>
  			<svg width="200" height="450" id = demoflowcomp3>
  				<g>
  					<text y="50" x="100" text-anchor="middle" font-size="24" >OK-1</text>
  					<polygon id="demodflowc3" transform="translate(0,50)" points="" style="fill:#ee9911;stroke:#000;stroke-width:2;fill-opacity:.3" />
  					<polygon id="demodshowc3" transform="translate(0,250)" points="" style="fill:#ee9911;stroke:#000;stroke-width:2;fill-opacity:.3" />
  				</g>
  			</svg>
  		</div>



  		<div>

  			<svg height="530" width = "25">
  				<text x="20" y="280" text-anchor="middle" fill="black" transform="rotate(270,20,280)">Perimeter</text>
  			</svg>

  			<svg height="530" width = "500" id="demoplotspace">


  				<polyline id="demoflowplot1" points="" style="stroke:#9911ee;stroke-width:3;fill:none;stroke-opacity:.5" />
  				<polyline id="demoflowplot2" points="" style="stroke:#99ee11;stroke-width:3;fill:none;stroke-opacity:.5" />
  				<polyline id="demoflowplot3" points="" style="stroke:#ee9911;stroke-width:3;fill:none;stroke-opacity:.5" />

  				<circle id="demotrack1" cx="0" cy="0" r="5" stroke="#9911ee" stroke-width="3" fill="#9911ee" stroke-opacity=".4" fill-opacity=".4"/>
  				<text id = "demotrack1t" x = "0" y="0" font-size="24">MD-3</text>
  				<circle id="demotrack2" cx="0" cy="0" r="5" stroke="#99ee11" stroke-width="3" fill="#99ee11" stroke-opacity=".4" fill-opacity=".4"/>
  				<text id = "demotrack2t" x = "0" y="0" font-size="24">TX-35</text>

  				<circle id="demotrack3" cx="0" cy="0" r="5" stroke="#ee9911" stroke-width="3" fill="#ee9911" stroke-opacity=".4" fill-opacity=".4"/>
  				<text id = "demotrack3t" x = "0" y="0" font-size="24">OK-1</text>



  				<polyline points="10 598 598 598" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 
  				<polyline points="10 498 498 498" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  				<polyline points="10 398 398 398" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  				<polyline points="10 298 298 298" style="stroke:#000;stroke-width:2;stroke-opacity:.3"/> 
  				<polyline points="10 198 198 198" style="stroke:#000;stroke-width:2;stroke-opacity:.3" />
  				<polyline points="10 98 98 98" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  				<text x="0" y="499" fill="black">1</text>
  				<text x="0" y="399" fill="black">2</text>
  				<text x="0" y="299" fill="black">3</text>
  				<text x="0" y="199" fill="black">4</text>
  				<text x="0" y="99"  fill="black">5</text>

  				<text x="250" y="515" text-anchor="middle" fill="black"> &ndash; Curve-Shortening Flow Steps  &rarr;</text>
  			</svg>
  		</div>



  	</div>
  	<section>
  		<p>
  			There are a few things to observe here.  First, the plot for OK-1 is below the other two at every point, and it requires 
  			far fewer steps of curve-shortening flow to become something (almost) circular.  These demonstrate that, with respect to our measure, OK-1 is 
  			much more compact than the other two districts. 
  		</p>
  		<p>
  			Second, we can look at the <em>shapes</em> of the three plots.  We observed that OK-1's plot drops very quickly 
  			as it takes relatively few curve-shortening flow steps to transform it into a circle.  It's original form 
  			can be described as two joined rectangles with some irregularities at the boundary.  MD-3's plot falls 
  			at a slower rate, which reflects the fact that the bizarreness of its geometry is not limited to its boundary, 
  			as once the curve-shortening flow smooths it out, what we're left with is something that looks like a snakey 'Y'. 
  			TX-35's plot falls quickly at the beginning but then slows down, being outpaced by MD-3.  This is because the 
  			boundary smoothing reduces a lot of the district's perimeter, but the long, thin strip which stretches to the southwest 
  			requires many steps to pull inward.
  		</p>
		<p>

			We'll remark here that although we've set everything up for the <em>mathematical</em> comparison of 
			district shapes under curve-shortening flow to be sensible, it's important to recognize that these 
			comparisons do not, on their own, suggest that any state is or is not gerrymandered, and 
			it is particularly important to recognize that comparisons of compactness across different states 
			are even less meaningful, since different states have different geographic features, population 
			distributions, and legal constraints on the set of allowed districting plans.  As a concrete example, 
			it is hard to draw low-perimeter districts in Rhode Island due to its large amount of coastline and 
			small area with dense population, whereas Iowa has much more regular borders, a legal requirement to preserve counties 
			(which also have regular borders), and a fairly sparse population distribution.  Rhode Island's districts 
			being less compact than Iowa's with respect to any measure does not suggest that Rhode Island is gerrymandered 
			or that Iowa is not.
		</p>

  	</section>
  	<section>
  		<p>
  			Use the widget below to compare any three districts in the 116th Congress (those used for the 2018 elections).  The slider below each 
  			image controls the curve-shortening flow animation and you can use the buttons with arrows to move through one step at a time for a 
  			finer-grained view.  Can you find districts which appear to be non-compact because of their large perimeters but have plots which 
  			drop off very rapidly?  Are there districts which the flow process sends to circles even more slowly than it does for TX-35 and 
  			MD-3?
  		</p>



  	</section>

  	<summary>
  		THIS DEMO IS UNDER CONSTRUCTION<br />
  		DISTRICTS WHICH ARE NOT GEOGRAPHICALLY CONTIGUOUS ARE REPRESENTED BY THEIR LARGEST PIECE 
  	</summary>

  	<div class="chart two-columns center">




  		<div style="margin:15px;display:flex;min-height:550px">

  			<div style="width:220px">
  				<h3> First District to Compare </h3>
  				<select id="state_ddm1" onchange="populate_dist_dd(1)">

  				</select>
  				<br />

  				<select id="dist_dd1" onchange="set_dist(1)">

  				</select>
  				<br />
  				  			<button onclick="clearcomp(1)" style="background: #cd0099;">Remove</button>
<br />
  				<svg width="200" height="450" id = flowcomp1>
  					<g>
  						<text y="50" x="100" text-anchor="middle" font-size="24" id="distlabel1"></text>
  						<polygon id="dflowc1" transform="translate(0,50)" points="" style="fill:#9911ee;stroke:#000;stroke-width:2;fill-opacity:.3" />
  						<polygon id="dshowc1" transform="translate(0,250)" points="" style="fill:#9911ee;stroke:#000;stroke-width:2;fill-opacity:.3" />
  					</g>
  				</svg>

  				<button onclick="decrement(1)" style="margin-left:15px;"> &larr; </button>    
  				<input type="range" min="0" value="0" class="slider" id="slider1" style="width:100px">
  				<button onclick="increment(1)" style="margin-right:15px"> &rarr; </button> 
  			</div>
  			<div style="height:550px;width:220px">
  				<h3> Second District to Compare </h3>

  				<select id="state_ddm2" onchange="populate_dist_dd(2)">

  				</select>

  				<br />

  				<select id="dist_dd2" onchange="set_dist(2)"></select>

  				<br />
  				  				  			<button onclick="clearcomp(2)" style="background: #cd0099;">Remove</button>
<br />
  				<svg width="200" height="450" id = flowcomp2>
  					<g>
  						<text y="50" x="100" text-anchor="middle" font-size="24" id="distlabel2"></text>
  						<polygon id="dflowc2" transform="translate(0,50)" points="" style="fill:#99ee11;stroke:#000;stroke-width:2;fill-opacity:.3" />
  						<polygon id="dshowc2" transform="translate(0,250)" points="" style="fill:#99ee11;stroke:#000;stroke-width:2;fill-opacity:.3" />
  					</g>
  				</svg>

  				<button onclick="decrement(2)" style="margin-left:15px"> &larr; </button>    
  				<input type="range" min="0" value="0" class="slider" id="slider2" style="width:100px">
  				<button onclick="increment(2)" style="margin-right:15px"> &rarr; </button> 
  			</div>
  			<div style="height:550px;width:220px">
  				<h3> Third District to Compare </h3>

  				<select id="state_ddm3" onchange="populate_dist_dd(3)">
  					
  				</select>

  				<br />

  				<select id="dist_dd3" onchange="set_dist(3)"></select>

  				<br />
  				  				  			<button onclick="clearcomp(3)" style="background: #cd0099;">Remove</button>
<br />
  					<svg width="200" height="450" id = flowcomp3>
  						<g>
  							<text y="50" x="100" text-anchor="middle" font-size="24" id="distlabel3"></text>
  							<polygon id="dflowc3" transform="translate(0,50)" points="" style="fill:#ee9911;stroke:#000;stroke-width:2;fill-opacity:.3" />
  							<polygon id="dshowc3" transform="translate(0,250)" points="" style="fill:#ee9911;stroke:#000;stroke-width:2;fill-opacity:.3" />
  						</g>
  					</svg>



  					<button onclick="decrement(3)" style="margin-left:15px" > &larr; </button>    
  					<input type="range" min="0" value="0" class="slider" id="slider3" style="width:100px">
  					<button onclick="increment(3)" style="margin-right:15px"> &rarr; </button> 
  				</div>
  			</div>



  			<div style="margin-top:20px;">
  				<svg height="530" width = "25">
  					<text x="20" y="280" text-anchor="middle" fill="black" transform="rotate(270,20,280)">Perimeter</text>

  				</svg>
  				<svg height="530" width = "500" id="plotspace">
  					<polyline id="flowplot1" points="" style="stroke:#9911ee;stroke-width:3;fill:none;stroke-opacity:.5" />
  					<polyline id="flowplot2" points="" style="stroke:#99ee11;stroke-width:3;fill:none;stroke-opacity:.5" />
  					<polyline id="flowplot3" points="" style="stroke:#ee9911;stroke-width:3;fill:none;stroke-opacity:.5" />


  					<circle id="track1" cx="-10" cy="0" r="5" stroke="#9911ee" stroke-width="3" fill="#9911ee" stroke-opacity=".4" fill-opacity=".4"/>
  					<text id = "track1t" x = "0" y="0" font-size="24"></text>
  					<circle id="track2" cx="-10" cy="0" r="5" stroke="#99ee11" stroke-width="3" fill="#99ee11" stroke-opacity=".4" fill-opacity=".4"/>
  					<text id = "track2t" x = "0" y="0" font-size="24"></text>

  					<circle id="track3" cx="-10" cy="0" r="5" stroke="#ee9911" stroke-width="3" fill="#ee9911" stroke-opacity=".4" fill-opacity=".4"/>
  					<text id = "track3t" x = "0" y="0" font-size="24"></text>


  					<polyline points="10 598 598 598" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 
  					<polyline points="10 498 498 498" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  					<polyline points="10 398 398 398" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  					<polyline points="10 298 298 298" style="stroke:#000;stroke-width:2;stroke-opacity:.3"/> 
  					<polyline points="10 198 198 198" style="stroke:#000;stroke-width:2;stroke-opacity:.3" />
  					<polyline points="10 98 98 98" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  					<text x="0" y="499" fill="black">1</text>
  					<text x="0" y="399" fill="black">2</text>
  					<text x="0" y="299" fill="black">3</text>
  					<text x="0" y="199" fill="black">4</text>
  					<text x="0" y="99"  fill="black">5</text>

  					<text x="250" y="515" text-anchor="middle" fill="black"> &ndash; Curve-Shortening Flow Steps &rarr;</text>




  				</svg>
  			</div>



  		</div>




  		<section>

  			<h3> In Conclusion...</h3>
  			<p>
  				We began by articulating 
  				a case for using <em> multiscale compactness</em> measures which capture more information than single scalar 
  				scores can.  Our reason for this is the observation that scores like Polsby-Popper are highly sensitive to 
  				boundary effects which are prevalent in geographic applications.  We introduced the use of curve-shortening 
  				flow as an example of a multiscale measure which captures meaningful information about the geometry of a district 
  				without being susceptible to the perturbative effects which distort Polsby-Popper scores.
  			</p>
  			<p>
  				We point out here that we are not proposing these scores or the data presented in this page be used to 
  				support or challenge any districting plan, as gerrymandering is not a function solely of the geometry of a 
  				districting plan.  In particular, an analysis of alleged gerrymandering demands the incorporation of 
  				demographic and economic data as well as comparisons to the other possible plans which could have been 
  				enacted, since geography and population distributions place significant constraints on which districting plans 
  				are and are not feasible.
  			</p>
  			<p>
  				Rather, we hope that this page and the interactives inspire the application of more modern mathematical 
  				methods to the redistricting problem as well as challenge the popular narrative that scalar measures of compactness 
  				strictly define what is and is not a gerrymander.
  			</p>


  		</section>
<!--
  <div class="chart three-columns center">

  	<div>
  	</div>
  	<div style="margin:15px">

  		<svg width="200" height="50">
  			<text y="50" x="100" text-anchor="middle" font-size="24" >MD-3</text>
  		</svg>

  		<svg width="200" height="50">
  			<text y="50" x="100" text-anchor="middle" font-size="24">TX-35</text>
  		</svg>
  		<svg width="200" height="50">
  			<text y="50" x="100" text-anchor="middle" font-size="24">OK-1</text>
  		</svg> <br />  



  		<svg height="200" width="200" id='demoil4flowcomp1'>
  			<polygon id="demoil4dflowc1" points="" style="fill:#9911ee;stroke:#000;stroke-width:2;fill-opacity:.3" />
  		</svg>



  		<svg height="200" width="200" id='demoil4flowcomp2'>
  			<polygon id="demoil4dflowc2" points="" style="fill:#99ee11;stroke:#000;stroke-width:2;fill-opacity:.3" />
  		</svg>



  		<svg height="200" width="200" id='demoil4flowcomp3'>
  			<polygon id="demoil4dflowc3" points="" style="fill:#ee9911;stroke:#000;stroke-width:2;fill-opacity:.3" />
  		</svg> <br />


  		<svg height="200" width="200" id='demoil4showcomp1'>
  			<polygon id="demoil4dshowc1" points="" style="fill:#9911ee;stroke:#000;stroke-width:2;fill-opacity:.3" />
  		</svg>

  		<svg height="200" width="200" id='demoil4showcomp2'>
  			<polygon id="demoil4dshowc2" points="" style="fill:#99ee11;stroke:#000;stroke-width:2;fill-opacity:.3" />
  		</svg>

  		<svg height="200" width="200" id='demoil4showcomp3'>
  			<polygon id="demoil4dshowc3" points="" style="fill:#ee9911;stroke:#000;stroke-width:2;fill-opacity:.3" />
  		</svg>

  	</div>



	<div>

  		<svg height="530" width = "25">
  			<text x="20" y="280" text-anchor="middle" fill="black" transform="rotate(270,20,280)">Perimeter</text>
  		</svg>

  		<svg height="530" width = "500" id="demoil4plotspace">


  			<polyline id="demoil4flowplot1" points="" style="stroke:#9911ee;stroke-width:3;fill:none;stroke-opacity:.5" />
  			<polyline id="demoil4flowplot2" points="" style="stroke:#99ee11;stroke-width:3;fill:none;stroke-opacity:.5" />
  			<polyline id="demoil4flowplot3" points="" style="stroke:#ee9911;stroke-width:3;fill:none;stroke-opacity:.5" />

  			<circle id="demoil4track1" cx="0" cy="0" r="5" stroke="#9911ee" stroke-width="3" fill="#9911ee" stroke-opacity=".4" fill-opacity=".4"/>
  			<text id = "demoil4track1t" x = "0" y="0" font-size="24">MD-3</text>
  			<circle id="demoil4track2" cx="0" cy="0" r="5" stroke="#99ee11" stroke-width="3" fill="#99ee11" stroke-opacity=".4" fill-opacity=".4"/>
  			<text id = "demoil4track2t" x = "0" y="0" font-size="24">TX-35</text>

  			<circle id="demoil4track3" cx="0" cy="0" r="5" stroke="#ee9911" stroke-width="3" fill="#ee9911" stroke-opacity=".4" fill-opacity=".4"/>
  			<text id = "demoil4track3t" x = "0" y="0" font-size="24">OK-1</text>



  			<polyline points="10 598 598 598" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 
  			<polyline points="10 498 498 498" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  			<polyline points="10 398 398 398" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  			<polyline points="10 298 298 298" style="stroke:#000;stroke-width:2;stroke-opacity:.3"/> 
  			<polyline points="10 198 198 198" style="stroke:#000;stroke-width:2;stroke-opacity:.3" />
  			<polyline points="10 98 98 98" style="stroke:#000;stroke-width:2;stroke-opacity:.3" /> 

  			<text x="0" y="499" fill="black">1</text>
  			<text x="0" y="399" fill="black">2</text>
  			<text x="0" y="299" fill="black">3</text>
  			<text x="0" y="199" fill="black">4</text>
  			<text x="0" y="99"  fill="black">5</text>

  			<text x="250" y="515" text-anchor="middle" fill="black"> &ndash; Curve-Shortening Flow Steps  &rarr;</text>
  		</svg>
  	</div>



  </div> -->

</main>


<footer>
	<p>
		This page was created by
		<a href="http://zachschutzman.com/"><b>Zachary Schutzman</b></a> based
		on work at the
        <a href="http://gerrydata.org">Voting Rights Data Institute</a><!--,  and is
        being edited and maintained by MGGG -->. The code to generate the figures is 
        based on Patrick Girardet's implementation of Curve-Shortening Flow and the 
        project includes joint work with Michelle Feng, Patrick, Natalia Hajlasz, 
        Sloan Nietert, and Justin Solomon.
    </p>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script id = "loadfn" src=""></script>
<script src="src/static_imgs.js"></script>
<script src="src/md03.js"></script>
<script src="src/tx35.js"></script>
<script src="src/ok01.js"></script>
<script src="pop_statelist.js"></script>

<!-- <script src="src/il45.js"></script>
<script src="src/il420.js"></script>
<script src="src/il4500.js"></script> -->
<script src="src/curve_files_list.js"></script>
<script src="src/plot_csf.js"></script>
<script src="src/dropdowns.js"></script>
<script src="src/csf_utils.js"></script>

<!-- <script src="csf.js"></script> -->
<script src="src/animate.js"></script>
<script src="src/demo_plot_csf.js"></script>
<!-- <script src="src/demo_il4_plot_csf.js"></script> -->


</body>
</html>


<!--

0647 -- currentyl catalina island
1226 -- blobby
3907 -- okay
1502 -- hawaii bad
2301 -- maine coast
25xx -- ma all
0200 -- alaska


-->
